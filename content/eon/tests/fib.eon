void print(value str) {
    asm "sys 0";
    asm "push 0";
    asm "ret";
}

value fib(value idx) {
	if (idx < 2) {
		return idx;
	}

	return fib(idx - 1) + fib(idx - 2);
}

value printfib(value idx) {
    value val = fib(idx);

    print(idx);
    print(": ");
    print(val);
    print("\\n");

    return 0;
}

void main() {
    printfib(23);
    asm "ret";
}
